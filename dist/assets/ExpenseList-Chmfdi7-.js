import{d as w,r as b,o as E,f as m,_ as C,c as p,a as e,w as l,v as c,m as D,F as T,b as k,t as a,e as u,n as S}from"./index-CyWGbrK6.js";import{u as F}from"./expense-C4z4vGir.js";const L=w({__name:"ExpenseList",setup(f,{expose:s}){s();const n=F(),t=b({search:"",type:"",dateFrom:"",dateTo:""});E(()=>{n.fetchExpenses()});const d=m(()=>n.expenses.filter(r=>{const i=!t.value.search||r.description.toLowerCase().includes(t.value.search.toLowerCase()),v=!t.value.type||r.type===t.value.type,_=!t.value.dateFrom||new Date(r.date)>=new Date(t.value.dateFrom),h=!t.value.dateTo||new Date(r.date)<=new Date(t.value.dateTo);return i&&v&&_&&h})),x=m(()=>d.value.reduce((r,i)=>r+i.amount,0)),y={expenseStore:n,filters:t,filteredExpenses:d,totalAmount:x,formatCurrency:r=>r.toLocaleString("en-US",{minimumFractionDigits:2}),formatDate:r=>new Date(r).toLocaleDateString(),getTypeClass:r=>r==="PROJECT"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",openNewExpense:()=>{},openEditExpense:r=>{}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),N={class:"bg-white shadow rounded-lg"},U={class:"p-4 border-b grid grid-cols-1 md:grid-cols-4 gap-4"},A={class:"overflow-x-auto"},V={class:"min-w-full divide-y divide-gray-200"},P={class:"divide-y divide-gray-200"},j={class:"px-6 py-4"},B={class:"px-6 py-4"},M={class:"px-6 py-4"},O={class:"px-6 py-4"},R={class:"px-6 py-4"},z={class:"px-6 py-4 text-right"},G=["onClick"],J={class:"px-6 py-4 font-medium"};function q(f,s,n,t,d,x){return u(),p("div",null,[e("div",{class:"flex justify-between items-center mb-6"},[s[4]||(s[4]=e("h2",{class:"text-2xl font-bold"},"Expenses",-1)),e("button",{onClick:t.openNewExpense,class:"bg-primary-600 text-white px-4 py-2 rounded"}," New Expense ")]),e("div",N,[e("div",U,[l(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.filters.search=o),type:"text",placeholder:"Search expenses...",class:"px-3 py-2 border rounded"},null,512),[[c,t.filters.search]]),l(e("select",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.filters.type=o),class:"px-3 py-2 border rounded"},s[5]||(s[5]=[e("option",{value:""},"All Types",-1),e("option",{value:"GENERAL"},"General",-1),e("option",{value:"PROJECT"},"Project",-1)]),512),[[D,t.filters.type]]),l(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>t.filters.dateFrom=o),type:"date",class:"px-3 py-2 border rounded"},null,512),[[c,t.filters.dateFrom]]),l(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>t.filters.dateTo=o),type:"date",class:"px-3 py-2 border rounded"},null,512),[[c,t.filters.dateTo]])]),e("div",A,[e("table",V,[s[8]||(s[8]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount "),e("th",{class:"px-6 py-3"})])],-1)),e("tbody",P,[(u(!0),p(T,null,k(t.filteredExpenses,o=>(u(),p("tr",{key:o.id,class:"hover:bg-gray-50"},[e("td",j,a(t.formatDate(o.date)),1),e("td",B,a(o.description),1),e("td",M,[e("span",{class:S([t.getTypeClass(o.type),"px-2 py-1 rounded-full text-xs"])},a(o.type),3)]),e("td",O,a(o.category),1),e("td",R," $"+a(t.formatCurrency(o.amount)),1),e("td",z,[e("button",{onClick:g=>t.openEditExpense(o),class:"text-gray-600 hover:text-primary-600"}," Edit ",8,G)])]))),128))]),e("tfoot",null,[e("tr",null,[s[6]||(s[6]=e("td",{colspan:"4",class:"px-6 py-4 text-right font-medium"}," Total: ",-1)),e("td",J," $"+a(t.formatCurrency(t.totalAmount)),1),s[7]||(s[7]=e("td",null,null,-1))])])])])])])}const X=C(L,[["render",q],["__file","/Users/imtiazrayhan/xpertbuild/src/client/views/expenses/ExpenseList.vue"]]);export{X as default};
